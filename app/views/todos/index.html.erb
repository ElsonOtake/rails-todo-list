<div class="page-header">
  <h1 class="page-title"><%= t("todos.title") %></h1>
  <p class="page-subtitle"><%= t("todos.subtitle") %></p>
</div>

<% if @overdue_todos.any? %>
  <div class="alert alert-warning mb-6">
    <svg class="alert-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <span><%= t("todos.overdue_tasks", count: @overdue_todos.count) %></span>
  </div>
<% end %>

<div class="todos-container" data-controller="todos">
  <% if @todos.any? %>
    <div class="todos-list">
      <% @todos.each do |todo| %>
        <%= render "todo", todo: todo %>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>
      <h3 class="empty-title"><%= t("todos.no_todos_title") %></h3>
      <p class="empty-text"><%= t("todos.no_todos_text") %></p>
      <%= link_to t("todos.create_todo"), new_todo_path, class: "btn-primary mt-4" %>
    </div>
  <% end %>
</div>